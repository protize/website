---
import Layout from "../../layouts/Layout.astro";
import Container from "../../components/shared/Container.astro";
import CtaButton from "../../components/shared/CtaButton.astro";
import Button from "../../components/shared/Button.astro";
import { Image } from "astro:assets";
import CtaExpert from "../../components/sections/services/CtaExpert.astro";
import TopServicesMarquee from "../../components/sections/services/TopServicesMarquee.astro";
import GradiantText from "../../components/shared/GradiantText.astro";
import { getCollection } from "astro:content";

type Service = {
  title: string;
  blurb: string;
  image: string;
  points: string[];
};

const services: Service[] = [
  {
    title: "Custom Web Application Development",
    blurb:
      "We build fast, secure, and scalable web applications—from MVPs to enterprise platforms. Perfect for SaaS, fintech, ecommerce, and internal business tools.",
    image: "/images/5569517_2885174.jpg",
    points: [
      "High-performance web apps",
      "Secure login & roles",
      "Payments & dashboards",
    ],
  },
  {
    title: "Mobile App Development (Android & iOS)",
    blurb:
      "Modern mobile apps with clean UI, smooth performance, and production-ready releases. Ideal for startups and businesses that need reliable apps users love.",
    image: "/images/86868887979779.jpg",
    points: [
      "Android & iOS apps",
      "Fast & responsive UX",
      "Play/App Store publishing",
    ],
  },
  {
    title: "UI/UX Design & Branding",
    blurb:
      "User-focused design that improves trust and conversions. We create modern interfaces, design systems, and branding that looks premium and works across all devices.",
    image: "/images/5809245.jpg",
    points: [
      "Product UI/UX design",
      "Landing pages that convert",
      "Accessible design",
    ],
  },
  {
    title: "Cloud Deployment & DevOps",
    blurb:
      "Reliable cloud infrastructure for speed and scalability. We handle hosting, deployments, monitoring, and cost optimization—so your product stays stable under load.",
    image: "/images/25561384_7090544.jpg",
    points: ["Cloud hosting setup", "CI/CD deployments", "Monitoring & alerts"],
  },
  {
    title: "Data, Reporting & Analytics",
    blurb:
      "Dashboards and reporting systems that turn your data into decisions. Track KPIs, exports, performance, and operations with clear insights.",
    image: "/images/13642318_5291220.jpg",
    points: ["KPI dashboards", "CSV/Excel reports", "Operational insights"],
  },
  {
    title: "Product & Technology Consulting",
    blurb:
      "Need clarity before building? We help with planning, feature scoping, architecture guidance, and technical audits—so you avoid costly mistakes and launch faster.",
    image:
      "https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?auto=format&fit=crop&w=1172&q=80",
    points: [
      "Roadmap & scope clarity",
      "Architecture review",
      "Cost & performance planning",
    ],
  },
];

const items = [
  {
    title: "End to End Solutions and Services Guaranteed",
    desc: "We help transform businesses into resilient organizations that adapt quickly, move with market shifts, and execute with clarity.",
  },
  {
    title: "Ahead of The Curve We Future-proof Your IT",
    desc: "We architect and deliver scalable systems so your product remains stable, secure, and ready for growth.",
  },
  {
    title: "Experience Certainty Every Project Executed",
    desc: "With transparent milestones and strong delivery governance, you always know what’s done and what’s next.",
  },
];

const allServices = (await getCollection("services"))
  .filter((p) => !p.data.draft)
  .sort((a, b) => (b.data.order ?? 0) - (a.data.order ?? 0));
---

<Layout title="Services • Protize">
  <main class="space-y-24 md:space-y-32 motion-safe:[scroll-behavior:smooth]">
    <!-- Hero -->
    <section id="hero" class="relative isolate overflow-hidden">
      <div class="min-h-[88vh] flex flex-col justify-between gap-10">
        <Container className="md:pt-10 lg:py-10 lg:pb-10 ">
          <div
            class="hero-grid reveal relative mt-10 lg:mt-20 flex flex-col lg:flex-row items-center lg:items-start gap-10 lg:gap-12"
          >
            <div class="hero-copy space-y-6 max-w-xl">
              <h1
                class="hero-title text-3xl md:text-5xl font-extrabold leading-tight text-neutral-900"
              >
                <GradiantText>
                  Custom Web, Mobile & Fintech Software
                </GradiantText>Development Services
              </h1>

              <p
                class="hero-desc text-base md:text-lg leading-relaxed text-neutral-700"
              >
                Protize helps startups and growing businesses design, develop,
                and scale secure digital products. From MVP app development to
                enterprise-grade platforms, we deliver high-performance web
                applications, mobile apps, fintech systems, and cloud solutions
                built for reliability and growth.
              </p>

              <div class="hero-cta flex flex-wrap gap-3">
                <a
                  href="/contact-us"
                  aria-label="Start a software development project with Protize"
                  class="cta-lift"
                >
                  <CtaButton>Start Your Project</CtaButton>
                </a>
                <a
                  href="/portfolio"
                  aria-label="View Protize software development Portfolio"
                  class="cta-lift"
                >
                  <Button variant="secondary">View Portfolio</Button>
                </a>
              </div>
            </div>

            <div
              class="relative lg:absolute lg:-top-10 lg:right-0 w-full lg:w-[45%] z-0 rounded-3xl border border-slate-200 bg-white/60 p-2 shadow-[0_24px_70px_-32px_rgba(2,6,23,0.35)] backdrop-blur"
            >
              <div class="hero-image">
                <Image
                  src="/images/service-hero.png"
                  alt="Engineers collaborating on a modern software system"
                  width={2350}
                  height={2359}
                  class="w-full h-auto object-contain"
                  loading="eager"
                />
              </div>
              <div
                class="absolute -bottom-4 -left-4 md:-left-6 rounded-xl border border-white bg-white/90 px-4 py-3 shadow-lg backdrop-blur"
              >
                <p class="text-[11px] uppercase tracking-wide text-slate-500">
                  Engineering Results
                </p>
                <p
                  class="mt-0.5 text-sm md:text-base font-semibold text-slate-900"
                >
                  High-quality, low-regression releases
                </p>
              </div>
            </div>
          </div>
        </Container>
        <TopServicesMarquee />
      </div>

      <Container className="py-10 md:py-16">
        <div class="mb-10 md:mb-14 text-center reveal">
          <h2 class="text-2xl md:text-4xl font-bold">What we do</h2>
          <p class="mt-3 text-sm md:text-base text-neutral-600">
            Opinionated tech, clean delivery, measurable value.
          </p>
        </div>

        <div
          class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8 premium-grid"
        >
          {
            allServices.map((s) => (
              <a
                href={`/services/${s.slug}`}
                class="block"
                aria-label={`View service: ${s.data.title}`}
              >
                <article class="service-card group relative overflow-hidden rounded-2xl border border-neutral-200 bg-white/60 shadow-sm backdrop-blur supports-[backdrop-filter]:bg-white/40 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg">
                  {/* Image */}
                  <div class="aspect-[16/13] overflow-hidden">
                    <Image
                      src={s.data.image}
                      alt={s.data.title}
                      width={640}
                      height={400}
                      loading="lazy"
                      decoding="async"
                      class="service-image h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"
                    />
                  </div>

                  {/* Overlay */}
                  <div class="service-overlay pointer-events-none absolute inset-0" />

                  {/* Content */}
                  <div class="service-content absolute inset-x-0 bottom-0 z-10 p-5 md:p-6">
                    <h3 class="service-title text-lg font-semibold text-white md:text-xl">
                      {s.data.title}
                    </h3>

                    <p class="service-blurb mt-2 text-sm leading-relaxed text-white/90">
                      {s.data.blurb}
                    </p>

                    {s.data.points?.length > 0 && (
                      <ul class="service-points mt-3 flex flex-wrap gap-2">
                        {s.data.points.map((p) => (
                          <li class="rounded-full border border-white/35 bg-white/10 px-2.5 py-1 text-[11px] text-white backdrop-blur-sm md:text-xs">
                            {p}
                          </li>
                        ))}
                      </ul>
                    )}
                  </div>
                </article>
              </a>
            ))
          }
        </div>
      </Container>

      <section
        id="delivery-process"
        aria-labelledby="delivery-process-title"
        class="relative overflow-hidden rounded-[6px]"
        style="
    background-image:
      linear-gradient(rgba(255,255,255,.30), rgba(255,255,255,.30)),
      url('/images/pattern-11.jpg');
    background-repeat: no-repeat, no-repeat;
    background-position: center, top right;
    background-size: auto, 56% auto;
  "
      >
        <Container className="py-12 md:py-16">
          <div class="relative px-5 py-10 md:px-10 md:py-14 lg:px-12">
            <!-- Header -->
            <div class="mx-auto max-w-4xl text-center">
              <h2
                id="delivery-process-title"
                class="mt-3 text-3xl md:text-4xl font-extrabold leading-tight tracking-tight text"
              >
                Driving Client Results Utilizing New
                <br class="hidden md:block" />
                Innovation Points Of View
              </h2>
            </div>

            <!-- Step cards -->
            <ol
              class="mt-12 grid grid-cols-1 gap-6 md:grid-cols-2 md:gap-7 xl:grid-cols-3"
            >
              {
                items.map((it, i) => (
                  <li class="group relative rounded-3xl border border-slate-300/80 bg-white/60 p-6 md:p-7 transition-all duration-300 hover:-translate-y-1 hover:bg-white/80 hover:shadow-[0_20px_50px_-28px_rgba(2,6,23,0.35)]">
                    <div class="absolute -top-6 left-6 flex h-16 w-16 items-center justify-center rounded-full bg-[#d9dbe1] text-4xl font-bold leading-none text-blue-600 shadow-sm">
                      {String(i + 1).padStart(2, "0")}
                    </div>

                    <div class="pt-8">
                      <h3 class="text-lg font-semibold leading-tight text-[#0c1b4d] md:text-xl">
                        {it.title}
                      </h3>
                      <p class="mt-4 text-sm leading-relaxed text-slate-800 md:text-base">
                        {it.desc}
                      </p>
                    </div>
                  </li>
                ))
              }
            </ol>
          </div>
        </Container>
      </section>

      <CtaExpert />
    </section>
  </main>
</Layout>

<style>
  :root {
    --ease-premium: cubic-bezier(0.22, 1, 0.36, 1);
    --ease-premium: cubic-bezier(0.22, 1, 0.36, 1);
  }

  /* Generic reveal helpers */
  .reveal {
    opacity: 0;
    transform: translateY(24px);
    animation: revealUp 0.9s var(--ease-premium) forwards;
  }

  .reveal-delay-1 {
    animation-delay: 0.12s;
  }

  .reveal-delay-2 {
    animation-delay: 0.22s;
  }

  .reveal-delay-3 {
    animation-delay: 0.32s;
  }

  .hero-image {
    animation: floatY 4s ease-in-out 1.2s infinite;
    will-change: transform;
  }

  @keyframes floatY {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-20px);
    }
  }

  @keyframes revealUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Hero premium animation */
  .hero-copy,
  .hero-title,
  .hero-desc,
  .hero-cta,
  .hero-visual {
    opacity: 0;
  }

  .hero-copy {
    transform: translateY(24px);
    animation: heroUp 0.8s var(--ease-premium) 0.05s forwards;
  }

  .hero-title {
    transform: translateY(20px);
    animation: heroUp 0.8s var(--ease-premium) 0.18s forwards;
  }

  .hero-desc {
    transform: translateY(20px);
    animation: heroUp 0.8s var(--ease-premium) 0.32s forwards;
  }

  .hero-cta {
    transform: translateY(20px);
    animation: heroUp 0.8s var(--ease-premium) 0.46s forwards;
  }

  .hero-visual {
    transform: translateX(22px) scale(0.985);
    animation: heroInRight 1s var(--ease-premium) 0.22s forwards;
  }

  .hero-image {
    transition:
      transform 0.8s var(--ease-premium),
      filter 0.5s ease;
    will-change: transform;
  }

  .hero-visual:hover .hero-image {
    transform: scale(1.04);
    filter: saturate(1.05);
  }

  .hero-glow {
    animation: glowFloat 5.5s ease-in-out infinite;
  }

  .cta-lift {
    transition:
      transform 0.3s var(--ease-premium),
      box-shadow 0.3s ease;
  }

  .cta-lift:hover {
    transform: translateY(-3px);
  }

  .service-card {
    transition:
      transform 0.45s var(--ease-premium),
      box-shadow 0.35s ease,
      border-color 0.35s ease;
    will-change: transform;
  }

  .service-card:hover {
    transform: translateY(-6px);
    border-color: rgba(99, 102, 241, 0.35);
    box-shadow:
      0 18px 40px rgba(15, 23, 42, 0.12),
      0 3px 12px rgba(99, 102, 241, 0.1);
  }

  .service-image {
    transform: scale(1);
    transition:
      transform 0.8s var(--ease-premium),
      filter 0.45s ease;
    will-change: transform;
  }

  .service-card:hover .service-image {
    transform: scale(1.08);
    filter: brightness(0.72) saturate(1.08);
  }

  .service-overlay {
    background: linear-gradient(
      to top,
      rgba(3, 7, 18, 0.88) 10%,
      rgba(3, 7, 18, 0.35) 45%,
      rgba(3, 7, 18, 0.06) 100%
    );
    opacity: 1;
    transition: opacity 0.45s var(--ease-premium);
  }

  .service-card:hover .service-overlay {
    opacity: 1;
  }

  .service-content {
    transform: translateY(54%);
    opacity: 1;
    transition:
      transform 0.55s var(--ease-premium),
      opacity 0.4s ease;
    will-change: transform;
  }

  .service-card:hover .service-content {
    transform: translateY(0%);
    opacity: 1;
  }

  .service-title {
    transform: translateY(8px);
    opacity: 0.95;
    transition: all 0.45s var(--ease-premium);
  }

  .service-blurb,
  .service-points {
    transform: translateY(16px);
    opacity: 0;
    transition:
      transform 0.5s var(--ease-premium),
      opacity 0.35s ease;
  }

  .service-card:hover .service-title {
    transform: translateY(0);
    opacity: 1;
  }

  .service-card:hover .service-blurb {
    transform: translateY(0);
    opacity: 1;
    transition-delay: 0.08s;
  }

  .service-card:hover .service-points {
    transform: translateY(0);
    opacity: 1;
    transition-delay: 0.14s;
  }

  @keyframes heroUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes heroInRight {
    to {
      opacity: 1;
      transform: translateX(0) scale(1);
    }
  }

  @keyframes glowFloat {
    0%,
    100% {
      opacity: 0.3;
      transform: scale(1) translateY(0px);
    }

    50% {
      opacity: 0.52;
      transform: scale(1.05) translateY(-4px);
    }
  }

  /* Services grid premium */
  .premium-grid .service-card {
    opacity: 0;
    transform: translateY(22px) scale(0.995);
    animation: cardIn 0.7s var(--ease-premium) forwards;
  }

  .premium-grid .service-card:nth-child(1) {
    animation-delay: 0.06s;
  }

  .premium-grid .service-card:nth-child(2) {
    animation-delay: 0.14s;
  }

  .premium-grid .service-card:nth-child(3) {
    animation-delay: 0.22s;
  }

  .premium-grid .service-card:nth-child(4) {
    animation-delay: 0.3s;
  }

  .premium-grid .service-card:nth-child(5) {
    animation-delay: 0.38s;
  }

  .premium-grid .service-card:nth-child(6) {
    animation-delay: 0.46s;
  }

  .service-card {
    transition:
      transform 0.4s var(--ease-premium),
      box-shadow 0.35s ease,
      border-color 0.35s ease,
      background-color 0.35s ease;
  }

  .service-card:hover {
    transform: translateY(-6px);
    border-color: rgba(99, 102, 241, 0.32);
    box-shadow:
      0 18px 40px rgba(15, 23, 42, 0.08),
      0 3px 10px rgba(99, 102, 241, 0.08);
  }

  .service-card img {
    transition:
      transform 0.75s var(--ease-premium),
      filter 0.4s ease;
  }

  .service-card:hover img {
    transform: scale(1.06);
    filter: contrast(1.03) saturate(1.05);
  }

  @keyframes cardIn {
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  /* Delivery section premium */
  .step-card {
    transition:
      transform 0.3s var(--ease-premium),
      border-color 0.3s ease,
      box-shadow 0.3s ease,
      background-color 0.3s ease;
  }

  .step-card:hover {
    transform: translateY(-4px);
    border-color: rgba(147, 51, 234, 0.3);
    box-shadow: 0 12px 24px rgba(147, 51, 234, 0.08);
    background-color: #faf5ff;
  }

  .delivery-visual img {
    transition:
      transform 0.8s var(--ease-premium),
      filter 0.45s ease;
  }

  .delivery-visual:hover img {
    transform: scale(1.04);
    filter: saturate(1.05);
  }

  /* Final CTA premium pulse */
  .premium-cta {
    position: relative;
    overflow: hidden;
    transition:
      transform 0.35s var(--ease-premium),
      box-shadow 0.35s ease;
  }

  .premium-cta::after {
    content: "";
    position: absolute;
    inset: -30% auto auto -20%;
    width: 45%;
    height: 180%;
    transform: rotate(22deg);
    background: linear-gradient(
      to right,
      rgba(255, 255, 255, 0),
      rgba(255, 255, 255, 0.35),
      rgba(255, 255, 255, 0)
    );
    animation: shineSweep 5.8s ease-in-out infinite;
    pointer-events: none;
  }

  .premium-cta:hover {
    transform: translateY(-3px);
    box-shadow:
      0 14px 30px rgba(217, 119, 6, 0.16),
      0 3px 10px rgba(0, 0, 0, 0.05);
  }

  @keyframes shineSweep {
    0% {
      transform: translateX(-120%) rotate(22deg);
      opacity: 0;
    }

    18% {
      opacity: 1;
    }

    38% {
      transform: translateX(320%) rotate(22deg);
      opacity: 0;
    }

    100% {
      transform: translateX(320%) rotate(22deg);
      opacity: 0;
    }
  }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .reveal,
    .hero-copy,
    .hero-title,
    .hero-desc,
    .hero-cta,
    .hero-visual,
    .hero-glow,
    .premium-grid .service-card,
    .premium-cta::after {
      animation: none !important;
      opacity: 1 !important;
      transform: none !important;
    }

    .hero-image,
    .cta-lift,
    .service-card,
    .service-card img,
    .step-card,
    .delivery-visual img,
    .premium-cta {
      transition: none !important;
    }
  }
</style>
