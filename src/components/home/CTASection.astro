---
import FadeIn from "../animations/FadeIn";

type Action = {
  label: string;
  href: string;
  variant?: "primary" | "secondary";
  icon?: boolean;
};

type Props = {
  title?: string;
  subtitle?: string;
  actions?: Action[];
  gradientFrom?: string;
  gradientTo?: string;
  showPattern?: boolean;
  showBlobs?: boolean;
  className?: string;
};

const {
  title = "Ready to Transform Your Business?",
  subtitle = "Let's discuss how our IT solutions can help you achieve your business goals. Get started with a free consultation today.",
  actions = [
    {
      label: "Schedule a Call",
      href: "/contact-us",
      variant: "primary",
      icon: true,
    },
    { label: "View Our Work", href: "/portfolio", variant: "secondary" },
  ],
  gradientFrom = "from-primary/30",
  gradientTo = "to-accent/30",
  showPattern = true,
  showBlobs = true,
  className = "",
} = Astro.props as Props;
---

<section
  class={`section-padding relative overflow-hidden bg-gradient-to-br ${gradientFrom} ${gradientTo} text-black ${className}`}
>
  {
    showPattern && (
      <div class="absolute inset-0 opacity-10 pointer-events-none">
        <div
          class="absolute inset-0"
          style="background-image: radial-gradient(circle, white 1px, transparent 1px); background-size: 50px 50px;"
        />
      </div>
    )
  }

  {
    showBlobs && (
      <>
        <div class="absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full blur-3xl pointer-events-none" />
        <div class="absolute bottom-0 left-0 w-96 h-96 bg-white/10 rounded-full blur-3xl pointer-events-none" />
      </>
    )
  }

  <div class="container-custom relative z-10">
    <div class="max-w-4xl mx-auto text-center">
      <FadeIn client:load direction="up">
        <h2 class="text-4xl md:text-5xl font-heading font-bold mb-6">
          {title}
        </h2>

        <p class="text-xl mb-12 leading-relaxed text-black/70">
          {subtitle}
        </p>

        <div
          class="flex flex-col sm:flex-row gap-4 justify-center items-center"
        >
          {
            actions.map((a) => (
              <a
                href={a.href}
                class={`${a.variant === "secondary" ? "btn-secondary" : "btn-primary"} inline-flex items-center`}
              >
                {a.label}
                {a.icon && (
                  <svg
                    class="inline-block w-6 h-6 ml-2"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M13 7l5 5m0 0l-5 5m5-5H6"
                    />
                  </svg>
                )}
              </a>
            ))
          }
        </div>
      </FadeIn>
    </div>
  </div>
</section>
