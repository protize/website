---
/* CaseStudies.astro */

import { caseStudies } from "../../utils/data";
import Container from "../shared/Container.astro";
import CtaButton from "../shared/CtaButton.astro";
import Title from "../shared/Title.astro";

export interface Props {
  className?: string;
}

const { className } = Astro.props;
---

<section id="case-studies" class={`relative ${className}`}>
  <Container className="space-y-8 md:space-y-12">
    <!-- Section Header -->
    <div class="text-center max-w-3xl mx-auto space-y-2">
      <Title>Case Studies</Title>
      <p class="text-sm md:text-base text-gray-600">
        A snapshot of how Protize turns complex problems into measurable
        outcomes.
      </p>
    </div>

    <!-- Tiles -->
    <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5 md:gap-6">
      {
        caseStudies.slice(0, 3).map((cs) => (
          <article class="rounded-3xl border border-gray-200 bg-white p-5 md:p-6 flex flex-col gap-5 transition-shadow hover:shadow-md">
            <header class="space-y-2">
              <div class="inline-flex items-center gap-2">
                <span class="inline-flex items-center rounded-full bg-orange-50 text-orange-700 border border-orange-100 px-2.5 py-1 text-xs font-medium">
                  {cs.industry}
                </span>
              </div>
              <h3 class="text-lg md:text-xl font-semibold text-gray-900 leading-snug">
                {cs.title}
              </h3>
            </header>

            <div class="space-y-4">
              <section class="space-y-1">
                <h4 class="text-sm font-semibold text-gray-800">Problem</h4>
                <p class="text-sm text-gray-700">{cs.problem}</p>
              </section>

              <section class="space-y-1">
                <h4 class="text-sm font-semibold text-gray-800">Solution</h4>
                <ul class="text-sm text-gray-700 space-y-2 list-disc list-outside pl-5">
                  {cs.solution.map((item) => (
                    <li>{item}</li>
                  ))}
                </ul>
              </section>

              <section class="space-y-2">
                <h4 class="text-sm font-semibold text-gray-800">Outcome</h4>
                <div class="flex flex-wrap gap-2">
                  {cs.outcome.map((m) => (
                    <span class="inline-flex items-center rounded-full border border-gray-200 bg-gray-50 px-2.5 py-1 text-xs">
                      <span class="font-semibold mr-1">{m.value}</span>
                      <span class="text-gray-600">{m.label}</span>
                    </span>
                  ))}
                </div>
              </section>
            </div>

            <div class="pt-1">
              <a
                href={cs.href}
                class="inline-flex items-center justify-center rounded-xl bg-primary text-white px-4 py-2 text-sm font-medium hover:bg-purple-700 transition"
                aria-label={`View full case study: ${cs.title}`}
              >
                View full case study
                <svg
                  class="ml-2 h-4 w-4"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  aria-hidden="true"
                >
                  <path d="M13.172 11H6a1 1 0 1 0 0 2h7.172l-2.586 2.586a1 1 0 1 0 1.414 1.414l4.293-4.293a1 1 0 0 0 0-1.414l-4.293-4.293a1 1 0 1 0-1.414 1.414L13.172 11z" />
                </svg>
              </a>
            </div>
          </article>
        ))
      }
    </div>

    <div class="text-center">
      <a href="/case-studies"><CtaButton> Get More Insights </CtaButton></a>
    </div>
  </Container>
</section>
